\documentclass[a4paper,11pt]{refrep}
\usepackage{xepersian}
\pagestyle{headings}
\usepackage[top=2.5cm,right=2.5cm,bottom=2.5cm,left=2.5cm]{geometry}
\title{حروف‌چینی فارسی در \LR{\XePersian}\\[0.2cm]نسخهٔ ۰/۱۶۱۱۱۱۱}
\author{وفا خلیقی\thanks{پست الکترونیک:~\LR{vafa.khalighi@students.mq.edu.au}}}
\begin{document}
\maketitle
\tableofcontents
\chapter{مقدمه}
به حروف‌چینی فارسی ‪ ‬با ‪\LR{\XePersian} ‬خوش آمدید. هدف \LR{\XePersian} ارائه یک بستهٔ کاملاً کامل و پایدار برای حروف‌چینی است. لطفاً به خاطر داشته باشید که \LR{\XePersian} هنوز در حالت آزمایش است و این نسخهٔ ۰/۱۶۱۱۱۱۱ از آن است. من سعی کرده‌ام، می‌کنم و خواهم کرد تا تمام امکانات حروف‌چینی فارسی را در \LR{\XePersian} جمع کنم. اما این خود نیاز به آزمایش و امتحان دارد تا اشکالات پیدا و رفع شود.


لطفاً قبل از استفاده از \LR{\XePersian} این سند را بدقت بخوانید تا با دستورات و امکانات \LR{\XePersian} آشنا شوید.

همچنین اگر اشکالی، پیشنهادی و یا سؤالی دارید، می‌توانید آن را به نویسندهٔ \LR{\XePersian} گزارش دهید تا مؤلف \LR{\XePersian} بتواند نسخهٔ بعدی کاملتری را ارائه دهد.

دوست دارم از صمیم قلب از آقای \LR{Jonathan Kew } برای پشتیبانی‌ها و اعتمادشان به من تشکر کنم.

در اینجا نیز دوست دارم از مسئولان پروژه‌های تک‌پارسی و فارسی‌تک تشکر و قدردانی کنم به این خاطر که نوشتن \LR{\XePersian} ممکن نبود مگر با مطالعهٔ کدهای این دو پروژه. همچنین تعدادی از امکانات فارسی‌تک و  تک‌پارسی در \LR{\XePersian} گنجانده شده است.

در پایان نیز دوست دارم صمیمانه از دوستان خوب و نازنینم در وبلاگ فارسی‌لاتک، آقایان مصطفی واحدی، مهدی امیدعلی، مرتضی خدادادیان، وحید قاسمیان و بسیاری از دوستان دیگر تشکر کنم. بدون نظرات و پشتیبانی‌های این دوستان، من نمی‌توانستم انگیزهٔ لازم را در انجام این کار پیدا کنم.
\chapter{فلسفه و دستورات}
فلسفهٔ \LR{\XePersian} این است که یک استفاده کنندهٔ معمولی باید قادر باشد به راحتی به حروف‌چینی فارسی بپردازد. در حال حاضر \LR{\XePersian} با کلاسهای \LR{article, amsart, amsbook, report, book, bookest, refrep} و \LR{beamer} به زیبایی و آسانی کار می‌کند. در هر نسخه از \LR{\XePersian} تلاش بر این است تا حداقل سه کلاس دیگر نیز به آن اضافه شود. همچنین در هر نسخه بسته‌های زیادی نیز به \LR{\XePersian} اضافه خواهند شد تا کاربران آزادی کامل در حروف‌چینی فارسی داشته باشند.

\section{قلمهای فارسی}
تعدادی قلمهای فارسی مناسب با \LR{\XePersian} عرضه می‌شوند. این قلمها در پوشهٔ \LR{True Type Fonts} قرار دارند. لطفاً قبل از انجام هر کاری این قلمها را روی سیستم خود نصب کنید.
\section{اسکلت یک متن فارسی ساده }
\subsection{طبقات \LR{article} و \LR{amsart}}
\setLR
\verb|\documentclass{article}|\\
\verb|\usepackage{xepersian}|\\
\verb|\title{|\RL{عنوان مطلب}\verb|}|\\
\verb|\author{|\RL{نام نویسنده}\verb|}|\\
\verb|\begin{document}|\\
\verb|\maketitle|\\
\verb|\tableofcontents|\\
\verb|\section{|\RL{یک قسمت}\verb|}|

$\vdots$

\verb|\subsection{|\RL{یک زیر قسمت}\verb|}|

$\vdots$

\verb|\subsubsection{|\RL{یک زیر زیر قسمت}\verb|}|

$\vdots$


\verb|\end{document}|
\setRL

\newpage
\subsection{طبقهٔ \LR{beamer}}
\setLR
\verb|\documentclass[hyperref=xetex]{beamer}|\\
\verb|\usepackage{xepersian}|\\
\verb|\title{|\RL{عنوان مطلب}\verb|}|\\
\verb|\author{|\RL{نام نویسنده}\verb|}|\\
\verb|\begin{document}|\\
\verb|\frame{\maketitle}|\\
\verb|\section{|\RL{یک قسمت}\verb|}|\\
\verb|\frametitle{|\RL{مطلب}\verb|}|\\
\verb|\framesubtitle{|\RL{زیر مطلب}\verb|}|

$\vdots$

\verb|\end{frame}|

$\vdots$


\verb|\end{document}|
\setRL

\subsection{سایر طبقات}
\setLR
\verb|\documentclass{book}|\\
\verb|\usepackage{xepersian}|\\
\verb|\title{|\RL{عنوان مطلب}\verb|}|\\
\verb|\author{|\RL{نام نویسنده}\verb|}|\\
\verb|\begin{document}|\\
\verb|\maketitle|\\
\verb|\tableofcontents|\\
\verb|\chapter{|\RL{یک فصل}\verb|}|

$\vdots$

\verb|\section{|\RL{یک قسمت}\verb|}|

$\vdots$

\verb|\subsection{|\RL{یک زیر قسمت}\verb|}|

$\vdots$

\verb|\subsubsection{|\RL{یک زیر زیر قسمت}\verb|}|

$\vdots$


\verb|\end{document}|
\setRL
\newpage
\section{نکات}
\begin{itemize}
\item \LR{\XePersian}
قلم نازلی را برای قلم فارسی به عنوان پیش‌فرض استفاده می‌کند لذا باید این قلم را روی سیستم خود نصب کرده باشید. اگر می‌خواهید از قلم دیگری به عنوان قلم فارسی استفاده کنید، می‌توانید دستور زیر را در پیش‌درآمد فایل خود قرار دهید:

\setLR
\verb|\newfontfamily\farsifont[Script=Arabic,Scale=1.2,Mapping=farsidigits]{name of your font}|
\setRL


\item
اگر می‌خواهید پاراگرافی انگلیسی بنویسید باید آن پاراگراف را در محیط \LR{\texttt{english}} قرار دهید:

\setLR
\verb|\begin{english}|

$\vdots$

\verb|\end{english}|
\setRL



\item \LR{\XePersian}
بصورت پیش‌فرض بسته‌های \LR{amsmath, amssymb, amsthm} و دیگر بسته‌های مربوط را فراخوانی می‌کند لذا شما نباید این بسته‌ها را دوباره در پیش‌درآمد فایل خود فراخوانی کنید.
\item \LR{\XePersian}
بصورت خودکار بستهٔ \LR{graphicx} را فراخوانی می‌کند لذا شما نباید این بسته را در پیش‌درآمد فایل خود فراخوانی کنید.

\end{itemize}
\newpage
\section{دستورات کلیدی }
\verb|\XePersian|:
برای قرار دادن نماد \LR{\XePersian}. البته اگر در محیط \LR{\texttt{english}} نیستید باید از شکل
\verb|\LR{\XePersian}|
این دستور استفاده کنید. 

\vspace{0.5cm}

\verb|\RL{}|:
برای قرار دادن کلمه/کلمات و یا جمله‌ای فارسی زمانی که در محیط \LR{\texttt{english}} هستیم. کلمه/کلمات و یا جمله فارسی درون \verb|{}| قرار می‌گیرد.

\vspace{0.5cm}

\verb|\LR{}|:
برای قرار دادن کلمه/کلمات و یا جمله‌ای انگلیسی زمانی که در محیط \LR{\texttt{english}} نیستیم. کلمه/کلمات و یا جمله انگلیسی درون \verb|{}| قرار می‌گیرد.





\vspace{0.5cm}

\verb|\footnote{}|:
برای قرار دادن زیرنویس فارسی. متن فارسی را درون \verb|{}| قرار می‌دهیم.

\vspace{0.5cm}

\verb|\Footnote{}|:
برای قرار دادن زیرنویس انگلیسی. متن انگلیسی را درون \verb|{}| قرار می‌دهیم.
\vspace{.5cm}

\verb|\pagenumbering{farsi}|:
برای تبدیل شمارهٔ صفحات از عددی به حروف الفبای فارسی.

\vspace{.5cm}

\verb|\pagenumbering{arabic}|:
برای تبدیل شمارهٔ صفحات از حروفی به عددی.



\newpage
\chapter{امکانات حروف‌چینی فارسی }
\section{حروف‌چینی شعر}
حروف‌چینی شعر از فارسی‌تک به \LR{\XePersian} اضافه شده است. در اینجا لازم می‌دانم از آقای بهداد اسفهبد که مؤلف اصلی آن هستند تشکر کنم.

\vspace{0.5cm}

لطفاً به خاطر داشته باشید که برای حروف‌چینی شعر نیازی به قراردادن بسته‌ای خاص ندارید؛ \LR{\XePersian} این کار را بصورت خودکار انجام می‌دهد.
\subsection{حروف‌چینی شعر سنتی}
حروف‌چینی شعر سنتی در محیطی به نام \LR{oldpoem} انجام می‌گیرد. این محیط دو حالت دارد:
\subsubsection{حالت معمولی}
\begin{oldpoem}
هله رفتیم و گرانی ز جمالت بردیم&
جهت توشهٔ ره ذکر وصالت بردیم\\
تا که ما را و ترا تذکرهٔ خوش باشد&
دل خسته بتو دادیم و خیالت بردیم\\
آن خیال رُخ خوبت که قمر بندهٔ اوست&
وان خَم ابروی مانند هلالت بردیم\\
و آن شکرخندهٔ خوبت که شکر تشنهٔ اوست&
ز شکر خانهٔ مجموع خصالت بردیم\\
چون کبوتر چو بپریم بتو بازآییم&
زانکه ما این پَر و بال از پَر و بالت بردیم\\
هر کجا پرد فرعی، بسوی اصل آید&
هر چه داریم هم از عزّ و جلالت بردیم\\
شمس تبریز شنو خدمت ما را زصبا&
گر شمالست و صبا هم ز شمالت بردیم

\end{oldpoem}
شعر بالا با کد زیر تولید شده است:

\setLR
\verb|\documentclass{article}|\\
\verb|\usepackage{xepersian}|\\
\verb|\begin{document}|\\
\verb|\begin{oldpoem}|\\
\RL{هله رفتیم و گرانی ز جمالت بردیم}\verb|&|\\
\RL{جهت توشهٔ ره ذکر وصالت بردیم}\verb|\\|\\
\RL{تا که ما را و ترا تذکرهٔ خوش باشد}\verb|&|\\
\RL{دل خسته بتو دادیم و خیالت بردیم}\verb|\\|\\
\RL{آن خیال رُخ خوبت که قمر بندهٔ اوست}\verb|&|\\
\RL{وان خَم ابروی مانند هلالت بردیم}\verb|\\|\\
\RL{و آن شکرخندهٔ خوبت که شکر تشنهٔ اوست}\verb|&|\\
\RL{ز شکر خانهٔ مجموع خصالت بردیم}\verb|\\|\\
\RL{چون کبوتر چو بپریم بتو بازآییم}\verb|&|\\
\RL{زانکه ما این پَر و بال از پَر و بالت بردیم}\verb|\\|\\
\RL{هر کجا پرد فرعی، بسوی اصل آید}\verb|&|\\
\RL{هر چه داریم هم از عزّ و جلالت بردیم}\verb|\\|\\
\RL{شمس تبریز شنو خدمت ما را زصبا}\verb|&|\\
\RL{گر شمالست و صبا هم ز شمالت بردیم}\\
\verb|\end{oldpoem}|\\
\verb|\end{document}|
\setRL
\subsubsection{حالت ستاره‌دار}
\begin{oldpoem*}
هله رفتیم و گرانی ز جمالت بردیم&
جهت توشهٔ ره ذکر وصالت بردیم\\
تا که ما را و ترا تذکرهٔ خوش باشد&
دل خسته بتو دادیم و خیالت بردیم\\
آن خیال رُخ خوبت که قمر بندهٔ اوست&
وان خَم ابروی مانند هلالت بردیم\\
و آن شکرخندهٔ خوبت که شکر تشنهٔ اوست&
ز شکر خانهٔ مجموع خصالت بردیم\\
چون کبوتر چو بپریم بتو بازآییم&
زانکه ما این پَر و بال از پَر و بالت بردیم\\
هر کجا پرد فرعی، بسوی اصل آید&
هر چه داریم هم از عزّ و جلالت بردیم\\
شمس تبریز شنو خدمت ما را زصبا&
گر شمالست و صبا هم ز شمالت بردیم

\end{oldpoem*}
شعر بالا با کد زیر تولید شده است:

\setLR
\verb|\documentclass{article}|\\
\verb|\usepackage{xepersian}|\\
\verb|\begin{document}|\\
\verb|\begin{oldpoem*}|\\
\RL{هله رفتیم و گرانی ز جمالت بردیم}\verb|&|\\
\RL{جهت توشهٔ ره ذکر وصالت بردیم}\verb|\\|\\
\RL{تا که ما را و ترا تذکرهٔ خوش باشد}\verb|&|\\
\RL{دل خسته بتو دادیم و خیالت بردیم}\verb|\\|\\
\RL{آن خیال رُخ خوبت که قمر بندهٔ اوست}\verb|&|\\
\RL{وان خَم ابروی مانند هلالت بردیم}\verb|\\|\\
\RL{و آن شکرخندهٔ خوبت که شکر تشنهٔ اوست}\verb|&|\\
\RL{ز شکر خانهٔ مجموع خصالت بردیم}\verb|\\|\\
\RL{چون کبوتر چو بپریم بتو بازآییم}\verb|&|\\
\RL{زانکه ما این پَر و بال از پَر و بالت بردیم}\verb|\\|\\
\RL{هر کجا پرد فرعی، بسوی اصل آید}\verb|&|\\
\RL{هر چه داریم هم از عزّ و جلالت بردیم}\verb|\\|\\
\RL{شمس تبریز شنو خدمت ما را زصبا}\verb|&|\\
\RL{گر شمالست و صبا هم ز شمالت بردیم}\\
\verb|\end{oldpoem*}|\\
\verb|\end{document}|
\setRL
\subsection{حروف‌چینی شعر نو}
حروف‌چینی شعر نو نیز در محیطی به نام \LR{newpoem} امکان پذیر است. این محیط دارای دو حالت معمولی و ستاره‌دار می‌باشد.
\section{تهیه اسلاید}
به آسانی می‌توانید اسلایدهای زیبایی را با کلاس \LR{beamer} در \LR{\XePersian} درست کنید. دو مثال نیز در پوشهٔ \LR{doc} موجود می‌باشد. در نسخه‌های بعدی تلاش خواهد شد تا کلاسها و بسته‌های مختلف و متنوع دیگری را برای تهیه اسلاید در \LR{\XePersian} فراهم آورد.
\section{نوشتهٔ سرصفحه}
برای فعال کردن نوشتهٔ سر صفحه سه راه وجود دارد:
\begin{itemize}
\item
در پیش‌درآمد فایل خود دستور \verb|\pagestyle{headings}| را قرار دهید.
\item
در پیش‌درآمد فایل خود دستور \verb|\pagestyle{myheadings}| را قرار  دهید و سپس \LR{\texttt{myheadings}} را تعریف کنید.
\item
از بستهٔ \LR{\texttt{fancyhdr}} استفاده کنید که کاملاً با \LR{\XePersian} سازگار است.
\end{itemize}
\section{قرار دادن عکس}
قرار دادن عکس نیز به آسانی امکان پذیر  است. هر چند  که می‌توانید از دستورات 
\LR{\XeTeX}
 استفاده کنید اما دستور 
\verb|\includegraphics|
 پیشنهاد می‌شود.
\section{جدول}
به آسانی می‌توانید جدول خود را در 
\LR{\XePersian}
 تولید کنید.
\section{حروف‌چینی یک متن در چند ستون}
می‌توانید تا ۵ ستون داشته باشید. برای حروف‌چینی یک متن در چند ستون از محیط زیر استفاده می‌کنیم:

\setLR
\verb|\begin{multicols}{number of columns}|

$\vdots$

\verb|\end{multicols}|
\setRL
\chapter{تغییرات جدید}
\begin{enumerate}
\item
مستقل سازی \LR{\XePersian} از \LR{Arab\XeTeX}.
\item
ساختن فارسی به عنوان زبان اصلی تا دیگر نیازی به محیط آزاردهنده \LR{\texttt{farsi}} نباشد.
\item
معرفی محیط جدید و مفید \LR{\texttt{english}}.
\item
اصلاح چند باگ بزرگ.
\item
اصلاح عدم سازگاری \LR{xepersian} با نسخهٔ جدید \LR{bidi}
\item
درست چاپ شدن شماره بخش‌ها، فصل‌ها، قسمت‌ها، زیرقسمت‌ها و زیر زیر قسمت‌ها (در نسخهٔ قبلی این شماره‌ها از سمت مخالف (چپ) شروع می‌شدند).
\item
تغییر نوع شماره‌گذاری صفحه، بخش، فصل، قسمت، زیرقسمت و زیر زیر قسمت برای سازگاری کامل با سایر بسته‌ها.
\item
اضافه کردن امکان داشتن شماره صفحه به ترتیب حروف الفبای فارسی، برای عوض کردن شماره صفحه از عددی به حروفی کافی است فرمان \verb|\pagenumbering{farsi}| را به کار ببرید و اگر دوباره دوست داشتید شمارهٔ صفحه را از حروفی به عددی تغییر دهید کافی است از فرمان \verb|\pagenumbering{arabic}| استفاده کنید.
\item
امکان داشتن جدولی که در بعضی از خانه‌های آن بتوان به راحتی انگلیسی نوشت. لطفاً به مثال زیر توجه کنید:
\begin{center}
\begin{tabular}{|r|r|}\hline
من و تو&تو و من\\ \hline
\LR{me and you}&\LR{you and me}\\ \hline
\end{tabular}
\end{center}
جدول بالا با کد زیر تولید شده است:

\setLR
\verb|\documentclass{article}|\\
\verb|\usepackage{xepersian}|\\
\verb|\begin{document}|\\
\verb|\begin{center}|\\
\verb|\begin{tabular}|\LR{\texttt{\{|r|r|\}}}\verb|\hline|\\
\RL{من و تو}\verb|&|\RL{تو و من}\verb|\\ \hline|\\
\verb|\LR{me and you}&\LR{you and me}\\ \hline|\\
\verb|\end{tabular}|\\
\verb|\end{center}|\\
\verb|\end{document}|
\setRL

\item 
امکان داشتن شماره پیوست بر حسب حروف الفبا.

\end{enumerate}
\end{document}

#========================================================================
#
# Xpdf Makefile
#
# Copyright 1996 Derek B. Noonburg
#
# Heavily modified for pdftex by Thomas Esser, 1998, 1999
#
# $Id: //depot/Build/source/TeX/libs/xpdf/xpdf/Makefile.in#13 $
#========================================================================

VPATH = @srcdir@
srcdir = @srcdir@

goodir = $(srcdir)/../goo
fofidir=$(srcdir)/../fofi

CXXFLAGS = @CXXFLAGS@
CXX = @CXX@
ALLCXXFLAGS = $(CXXFLAGS) @DEFS@ $(XCFLAGS) -I.. -I$(srcdir)/.. -I$(goodir) -I$(fofidir) -I. -I$(srcdir) \
	-DPDF_PARSER_ONLY

ac_include ../../texk/make/library.mk

.SUFFIXES:
.SUFFIXES: .cc .o
.cc.o:
	$(CXX) $(ALLCXXFLAGS) -c $<

#------------------------------------------------------------------------

PDFTOEPDF_OBJS = \
	Array.o BuiltinFont.o BuiltinFontTables.o CMap.o \
	Catalog.o CharCodeToUnicode.o Decrypt.o Dict.o Error.o \
	FontEncodingTables.o Gfx.o GfxFont.o GfxState.o \
	GlobalParams.o JArithmeticDecoder.o JBIG2Stream.o JPXStream.o Lexer.o Link.o \
	NameToCharCode.o Object.o OutputDev.o Outline.o PDFDoc.o Page.o \
	Parser.o PDFDocEncoding.o Stream.o UnicodeMap.o XRef.o Function.o \
	PSTokenizer.o

libxpdf.a: $(PDFTOEPDF_OBJS)
	rm -f $@
	$(AR) $(ARFLAGS) $@ $(PDFTOEPDF_OBJS)
	$(RANLIB) $@

#------------------------------------------------------------------------

mostlyclean clean:
	rm -f $(PDFTOEPDF_OBJS) libxpdf.a
	rm -f Makefile.bak

distclean maintainer-clean extraclean: clean
	rm -f Makefile c-auto.h

#------------------------------------------------------------------------

depend:
	$(CXX) $(ALLCXXFLAGS) -MM $(srcdir)/*.cc \
	  | sed 's|$(srcdir)|$$(srcdir)|' > $(srcdir)/depend.mk

#------------------------------------------------------------------------

ac_include xpdf/depend.mk

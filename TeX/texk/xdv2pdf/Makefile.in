ac_include ../make/paths.mk
ac_include ../make/common.mk
ac_include ../make/programs.mk

CXX = c++
CXXLD = $(CXX)
cxx_link_command = $(CXXLD) -o $@ $(LDFLAGS)
kpathsea_cxx_link = $(LIBTOOL) --mode=link $(cxx_link_command)

ALL_CXXFLAGS = @CXXFLAGS@ @DEFS@ $(XXCFLAGS) -I. -I$(srcdir)

.SUFFIXES: .cpp .o
.cpp.o:
	$(CXX) $(ALL_CXXFLAGS) -c $<

FRAMEWORKS = \
	-framework Carbon \
	-framework QuickTime

program = xdv2pdf
programs = $(program)
default all: $(programs)

objects=xdv2pdf_main.o xdv2pdf.o xdv2pdf_specials.o

$(objects): Makefile

$(program): $(objects) $(kpathsea) $(ALL_LIBS_DEP)
	$(kpathsea_cxx_link) $(objects) $(FRAMEWORKS) $(LOADLIBES)

ac_include ../make/tkpathsea.mk

install: install-exec install-data
uninstall: uninstall-exec uninstall-data

distclean::
	$(RM) config.h

install-exec:
	$(SHELL) $(top_srcdir)/../mkinstalldirs $(bindir)
	$(INSTALL_LIBTOOL_PROG) $(program) $(bindir)

uninstall-exec:
	cd $(bindir); rm -f $(programs)

install-data:
	$(SHELL) $(top_srcdir)/../mkinstalldirs $(man1dir)

uninstall-data:

ac_include ../make/config.mk

info dvi check:

ac_include ../make/clean.mk
ac_include ../make/rdepend.mk
ac_include depend.mk
